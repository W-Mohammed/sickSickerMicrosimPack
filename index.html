<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Healthy–Sick–Sicker–Dead Microsimulation Model • sickSickerMicrosimPack</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Healthy–Sick–Sicker–Dead Microsimulation Model">
<meta name="description" content="Provides a set of functions to run a four‑state microsimulation. The model follows individuals through the health states Healthy (H), Sick (S1), Sicker (S2) and Dead (D). Transition probabilities may depend on the time spent in a state and on individual covariates such as age and sex. Costs and utilities are calculated at each cycle and aggregated with optional discounting.">
<meta property="og:description" content="Provides a set of functions to run a four‑state microsimulation. The model follows individuals through the health states Healthy (H), Sick (S1), Sicker (S2) and Dead (D). Transition probabilities may depend on the time spent in a state and on individual covariates such as age and sex. Costs and utilities are calculated at each cycle and aggregated with optional discounting.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">sickSickerMicrosimPack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/sickSickerMicrosimPack.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/W-Mohammed/sickSickerMicrosimPack/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="sicksickermicrosimpack">sickSickerMicrosimPack<a class="anchor" aria-label="anchor" href="#sicksickermicrosimpack"></a>
</h1></div>
<p><code>sickSickerMicrosimPack</code> provides a set of functions to build and run a microsimulation model with four health states: <strong>Healthy (H)</strong>, <strong>Sick (S1)</strong>, <strong>Sicker (S2)</strong> and <strong>Dead (D)</strong>. The model is vectorised to efficiently simulate large cohorts of individuals. Transition probabilities can depend on the time spent in a state and on individual characteristics, and both costs and utilities can be modified by covariates.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package is not yet available on CRAN. To install from GitHub using the <a href="https://cran.r-project.org/package=remotes" class="external-link"><code>remotes</code></a> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"W-Mohammed/sickSickerMicrosimPack"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can clone the repository and build/install it manually.</p>
</div>
<div class="section level2">
<h2 id="quick-example">Quick example<a class="anchor" aria-label="anchor" href="#quick-example"></a>
</h2>
<p>The following example simulates a small cohort of 10 individuals for five cycles. Individual ages and sexes are sampled, and transition probabilities are provided along with cost and utility parameters. The example returns average costs and QALYs per individual.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/W-Mohammed/sickSickerMicrosimPack" class="external-link">sickSickerMicrosimPack</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">num_i</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">num_cycles</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="va">v_start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="va">num_i</span><span class="op">)</span></span>
<span><span class="va">m_feats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">num_i</span>, <span class="fl">50</span>, <span class="fl">3</span><span class="op">)</span>, sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, <span class="va">num_i</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">v_states_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"S1"</span>, <span class="st">"S2"</span>, <span class="st">"D"</span><span class="op">)</span></span>
<span><span class="va">v_states_costs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>H <span class="op">=</span> <span class="fl">2000</span>, S1 <span class="op">=</span> <span class="fl">4000</span>, S2 <span class="op">=</span> <span class="fl">15000</span>, D <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">v_cost_coeffs</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fl">11.5</span>, sex <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span>
<span><span class="va">v_states_utilities</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>H <span class="op">=</span> <span class="fl">1</span>, S1 <span class="op">=</span> <span class="fl">0.75</span>, S2 <span class="op">=</span> <span class="fl">0.5</span>, D <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">v_util_coeffs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>age <span class="op">=</span> <span class="op">-</span><span class="fl">0.0018</span>, sex <span class="op">=</span> <span class="op">-</span><span class="fl">0.015</span><span class="op">)</span></span>
<span><span class="va">v_util_t_decs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>S1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.0015</span>, S2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.0020</span><span class="op">)</span></span>
<span><span class="va">l_trans_probs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>p_HD <span class="op">=</span> <span class="fl">0.005</span>, p_HS1 <span class="op">=</span> <span class="fl">0.15</span>, p_S1H <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>                      p_S1S2 <span class="op">=</span> <span class="fl">0.105</span>, p_S1D <span class="op">=</span> <span class="fl">0.01488751</span>,</span>
<span>                      p_S2D <span class="op">=</span> <span class="fl">0.04877166</span>, rp_S1 <span class="op">=</span> <span class="fl">0.2</span>, rp_S2 <span class="op">=</span> <span class="fl">0.29</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/run_microSimV.html">run_microSimV</a></span><span class="op">(</span>v_starting_states <span class="op">=</span> <span class="va">v_start</span>,</span>
<span>                     num_i <span class="op">=</span> <span class="va">num_i</span>,</span>
<span>                     num_cycles <span class="op">=</span> <span class="va">num_cycles</span>,</span>
<span>                     m_indi_features <span class="op">=</span> <span class="va">m_feats</span>,</span>
<span>                     v_states_names <span class="op">=</span> <span class="va">v_states_names</span>,</span>
<span>                     v_states_costs <span class="op">=</span> <span class="va">v_states_costs</span>,</span>
<span>                     v_cost_coeffs <span class="op">=</span> <span class="va">v_cost_coeffs</span>,</span>
<span>                     v_states_utilities <span class="op">=</span> <span class="va">v_states_utilities</span>,</span>
<span>                     v_util_coeffs <span class="op">=</span> <span class="va">v_util_coeffs</span>,</span>
<span>                     v_util_t_decs <span class="op">=</span> <span class="va">v_util_t_decs</span>,</span>
<span>                     l_trans_probs <span class="op">=</span> <span class="va">l_trans_probs</span>,</span>
<span>                     discount_rate_costs <span class="op">=</span> <span class="fl">0.03</span>,</span>
<span>                     discount_rate_QALYs <span class="op">=</span> <span class="fl">0.015</span>,</span>
<span>                     cycle_length <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                     starting_seed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">mean_costs</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">mean_qalys</span></span></code></pre></div>
<p>Refer to the documentation of individual functions for further details on parameters and usage.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/W-Mohammed/sickSickerMicrosimPack/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/W-Mohammed/sickSickerMicrosimPack/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sickSickerMicrosimPack</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Wael Mohammed <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-0370-4903" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Wael Mohammed.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>

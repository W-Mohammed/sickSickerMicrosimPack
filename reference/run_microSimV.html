<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run Healthy–Sick–Sicker–Dead Microsimulation — run_microSimV • sickSickerMicrosimPack</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run Healthy–Sick–Sicker–Dead Microsimulation — run_microSimV"><meta name="description" content="Runs a vectorised microsimulation for a cohort of individuals over a
specified number of cycles. Individuals transition between health states
according to probabilities that depend on their current state and time
spent in that state. Costs and QALYs are accumulated each cycle and
optionally discounted."><meta property="og:description" content="Runs a vectorised microsimulation for a cohort of individuals over a
specified number of cycles. Individuals transition between health states
according to probabilities that depend on their current state and time
spent in that state. Costs and QALYs are accumulated each cycle and
optionally discounted."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sickSickerMicrosimPack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/sickSickerMicrosimPack.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/W-Mohammed/sickSickerMicrosimPack/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run Healthy–Sick–Sicker–Dead Microsimulation</h1>
      <small class="dont-index">Source: <a href="https://github.com/W-Mohammed/sickSickerMicrosimPack/blob/main/R/run_microSimV.R" class="external-link"><code>R/run_microSimV.R</code></a></small>
      <div class="d-none name"><code>run_microSimV.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Runs a vectorised microsimulation for a cohort of individuals over a
specified number of cycles. Individuals transition between health states
according to probabilities that depend on their current state and time
spent in that state. Costs and QALYs are accumulated each cycle and
optionally discounted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_microSimV</span><span class="op">(</span></span>
<span>  <span class="va">v_starting_states</span>,</span>
<span>  <span class="va">num_i</span>,</span>
<span>  <span class="va">num_cycles</span>,</span>
<span>  <span class="va">m_indi_features</span>,</span>
<span>  <span class="va">v_states_names</span>,</span>
<span>  <span class="va">v_states_costs</span>,</span>
<span>  <span class="va">v_cost_coeffs</span>,</span>
<span>  <span class="va">v_states_utilities</span>,</span>
<span>  <span class="va">v_util_coeffs</span>,</span>
<span>  <span class="va">v_util_t_decs</span>,</span>
<span>  <span class="va">l_trans_probs</span>,</span>
<span>  <span class="va">discount_rate_costs</span>,</span>
<span>  <span class="va">discount_rate_QALYs</span>,</span>
<span>  cycle_length <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  starting_seed <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  assert <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-v-starting-states">v_starting_states<a class="anchor" aria-label="anchor" href="#arg-v-starting-states"></a></dt>
<dd><p>Character vector giving the starting state for each
individual.</p></dd>


<dt id="arg-num-i">num_i<a class="anchor" aria-label="anchor" href="#arg-num-i"></a></dt>
<dd><p>Integer giving the number of individuals in the cohort.</p></dd>


<dt id="arg-num-cycles">num_cycles<a class="anchor" aria-label="anchor" href="#arg-num-cycles"></a></dt>
<dd><p>Integer giving the number of cycles to simulate.</p></dd>


<dt id="arg-m-indi-features">m_indi_features<a class="anchor" aria-label="anchor" href="#arg-m-indi-features"></a></dt>
<dd><p>Matrix or data.frame of individual covariates with
rows corresponding to individuals and columns corresponding to features.
Must include a column named <code>age</code> which is incremented each cycle.</p></dd>


<dt id="arg-v-states-names">v_states_names<a class="anchor" aria-label="anchor" href="#arg-v-states-names"></a></dt>
<dd><p>Character vector of all state names in the order used
throughout the model.</p></dd>


<dt id="arg-v-states-costs">v_states_costs<a class="anchor" aria-label="anchor" href="#arg-v-states-costs"></a></dt>
<dd><p>Named numeric vector of base costs for each state.</p></dd>


<dt id="arg-v-cost-coeffs">v_cost_coeffs<a class="anchor" aria-label="anchor" href="#arg-v-cost-coeffs"></a></dt>
<dd><p>Numeric vector of regression coefficients for costs.</p></dd>


<dt id="arg-v-states-utilities">v_states_utilities<a class="anchor" aria-label="anchor" href="#arg-v-states-utilities"></a></dt>
<dd><p>Named numeric vector of base utilities for each
state.</p></dd>


<dt id="arg-v-util-coeffs">v_util_coeffs<a class="anchor" aria-label="anchor" href="#arg-v-util-coeffs"></a></dt>
<dd><p>Numeric vector of regression coefficients for utilities.</p></dd>


<dt id="arg-v-util-t-decs">v_util_t_decs<a class="anchor" aria-label="anchor" href="#arg-v-util-t-decs"></a></dt>
<dd><p>Named numeric vector of time‑dependent utility
decrements for states S1 and S2.</p></dd>


<dt id="arg-l-trans-probs">l_trans_probs<a class="anchor" aria-label="anchor" href="#arg-l-trans-probs"></a></dt>
<dd><p>Named list of transition probabilities and rate ratios;
see <code>update_probsV</code> for details.</p></dd>


<dt id="arg-discount-rate-costs">discount_rate_costs<a class="anchor" aria-label="anchor" href="#arg-discount-rate-costs"></a></dt>
<dd><p>Numeric. Annual discount rate used for costs.</p></dd>


<dt id="arg-discount-rate-qalys">discount_rate_QALYs<a class="anchor" aria-label="anchor" href="#arg-discount-rate-qalys"></a></dt>
<dd><p>Numeric. Annual discount rate used for QALYs.</p></dd>


<dt id="arg-cycle-length">cycle_length<a class="anchor" aria-label="anchor" href="#arg-cycle-length"></a></dt>
<dd><p>Numeric. Length of each cycle in years. Defaults to 1.</p></dd>


<dt id="arg-starting-seed">starting_seed<a class="anchor" aria-label="anchor" href="#arg-starting-seed"></a></dt>
<dd><p>Numeric. Optional seed for the random number generator
to allow reproducible results.</p></dd>


<dt id="arg-assert">assert<a class="anchor" aria-label="anchor" href="#arg-assert"></a></dt>
<dd><p>Logical. Boolean for whether to run full assertion of
inputs. This feature is useful when running probabilistic sensitivity
analysis (PSA).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the matrices of states, costs and QALYs by cycle,
undiscounted and discounted totals per individual and averages across
individuals.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">run_microSimV</span><span class="op">(</span></span></span>
<span class="r-in"><span>  v_starting_states <span class="op">=</span> <span class="va">v_starting_states</span>,</span></span>
<span class="r-in"><span>  num_i <span class="op">=</span> <span class="va">num_i</span>,</span></span>
<span class="r-in"><span>  num_cycles <span class="op">=</span> <span class="va">num_cycles</span>,</span></span>
<span class="r-in"><span>  m_indi_features <span class="op">=</span> <span class="va">m_indi_features</span>,</span></span>
<span class="r-in"><span>  v_states_names <span class="op">=</span> <span class="va">v_states_names</span>,</span></span>
<span class="r-in"><span>  v_states_costs <span class="op">=</span> <span class="va">v_states_costs</span>,</span></span>
<span class="r-in"><span>  v_cost_coeffs <span class="op">=</span> <span class="va">v_cost_coeffs</span>,</span></span>
<span class="r-in"><span>  v_states_utilities <span class="op">=</span> <span class="va">v_states_utilities</span>,</span></span>
<span class="r-in"><span>  v_util_coeffs <span class="op">=</span> <span class="va">v_util_coeffs</span>,</span></span>
<span class="r-in"><span>  v_util_t_decs <span class="op">=</span> <span class="va">v_util_t_decs</span>,</span></span>
<span class="r-in"><span>  l_trans_probs <span class="op">=</span> <span class="va">l_trans_probs</span>, </span></span>
<span class="r-in"><span>  discount_rate_costs <span class="op">=</span> <span class="va">discount_rate_costs</span>,</span></span>
<span class="r-in"><span>  discount_rate_QALYs <span class="op">=</span> <span class="va">discount_rate_QALYs</span>,</span></span>
<span class="r-in"><span>  cycle_length <span class="op">=</span> <span class="va">cycle_length</span>,</span></span>
<span class="r-in"><span>  starting_seed <span class="op">=</span> <span class="va">seed</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span><span class="op">$</span><span class="va">mean_costs</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 98822.67</span>
<span class="r-in"><span><span class="va">res</span><span class="op">$</span><span class="va">mean_qalys</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 18.72664</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Wael Mohammed.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


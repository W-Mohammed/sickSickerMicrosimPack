% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_microSimV.R
\name{run_microSimV}
\alias{run_microSimV}
\title{Run Healthy–Sick–Sicker–Dead Microsimulation}
\usage{
run_microSimV(
  v_starting_states,
  num_i,
  num_cycles,
  m_indi_features,
  v_states_names,
  v_states_costs,
  v_cost_coeffs,
  v_states_utilities,
  v_util_coeffs,
  v_util_t_decs,
  l_trans_probs,
  discount_rate_costs,
  discount_rate_QALYs,
  cycle_length = 1,
  starting_seed = 1,
  assert = TRUE
)
}
\arguments{
\item{v_starting_states}{Character vector giving the starting state for each
individual.}

\item{num_i}{Integer giving the number of individuals in the cohort.}

\item{num_cycles}{Integer giving the number of cycles to simulate.}

\item{m_indi_features}{Matrix or data.frame of individual covariates with
rows corresponding to individuals and columns corresponding to features.
Must include a column named \code{age} which is incremented each cycle.}

\item{v_states_names}{Character vector of all state names in the order used
throughout the model.}

\item{v_states_costs}{Named numeric vector of base costs for each state.}

\item{v_cost_coeffs}{Numeric vector of regression coefficients for costs.}

\item{v_states_utilities}{Named numeric vector of base utilities for each
state.}

\item{v_util_coeffs}{Numeric vector of regression coefficients for utilities.}

\item{v_util_t_decs}{Named numeric vector of time‑dependent utility
decrements for states S1 and S2.}

\item{l_trans_probs}{Named list of transition probabilities and rate ratios;
see \code{update_probsV} for details.}

\item{discount_rate_costs}{Numeric. Annual discount rate used for costs.}

\item{discount_rate_QALYs}{Numeric. Annual discount rate used for QALYs.}

\item{cycle_length}{Numeric. Length of each cycle in years. Defaults to 1.}

\item{starting_seed}{Numeric. Optional seed for the random number generator
to allow reproducible results.}

\item{assert}{Logical. Boolean for whether to run full assertion of
inputs. This feature is useful when running probabilistic sensitivity
analysis (PSA).}
}
\value{
A list containing the matrices of states, costs and QALYs by cycle,
undiscounted and discounted totals per individual and averages across
individuals.
}
\description{
Runs a vectorised microsimulation for a cohort of individuals over a
specified number of cycles. Individuals transition between health states
according to probabilities that depend on their current state and time
spent in that state. Costs and QALYs are accumulated each cycle and
optionally discounted.
}
\examples{
res <- run_microSimV(
  v_starting_states = v_starting_states,
  num_i = num_i,
  num_cycles = num_cycles,
  m_indi_features = m_indi_features,
  v_states_names = v_states_names,
  v_states_costs = v_states_costs,
  v_cost_coeffs = v_cost_coeffs,
  v_states_utilities = v_states_utilities,
  v_util_coeffs = v_util_coeffs,
  v_util_t_decs = v_util_t_decs,
  l_trans_probs = l_trans_probs, 
  discount_rate_costs = discount_rate_costs,
  discount_rate_QALYs = discount_rate_QALYs,
  cycle_length = cycle_length,
  starting_seed = seed
)

res$mean_costs
res$mean_qalys

}
